---
title:  "LCD显示异常分析——撕裂(tear effect)-副本"
date:   2018-02-14 23:37:00
categories: text
---

## **概述**
在上一篇[《LCD显示异常分析——开机闪现花屏》](http://blog.csdn.net/hexiaolong2009/article/details/79190789)中，我们一起分析了开机花屏的问题，在这一篇中，我将对LCD撕裂(tear effect)问题进行详细分析，以及给出这类问题的常用解决方法。

本文适用范围：
> * 对象：LCD驱动调试人员
> * 硬件：带GRAM的LCD （如SPI/MCU/DSI CMD屏）
> * 软件：所有嵌入式操作系统

## **现象**
首先贴一张动态图，让大家能直观的感受撕裂形成的过程：
[点击这里查看高清图片](http://hexiaolong2008.github.io/image/tear_effect_w1_r3.svg)

## **分析**
从上面的动态图我们可以看到，在第二帧出现了新旧画面各显示一部分的现象，该现象即为**撕裂**，英文又叫**tear effect**。tear effect的根本原因是对GRAM的读、写速度不一致，导致在一帧之内，GRAM的读指针(R)与写指针(W)发生了重叠导致。

这个现象其实包含2个信息：
> 1. W和R指针重叠了
> 2. 指针重叠后的画面在屏上**静止不动**保持了整整1帧的时间（60fps的话就是16.7ms），这个时间是足以被人眼察觉到的

有经验的开发人员都知道，出现这类问题往往都是因为有个**2倍关系**没有调整好。何为“**2倍关系**”？即必须保证`W:R > 1:2`（这里的W、R都指的是速率），否则势必会出现撕裂的现象（如上面的W:R=1:3）。
